project:
  type: website
  output-dir: _site
  render:
    - "*.qmd"
    - "docs/"
    - "api_reference/"
    - "!materials/"

website:
  title: "digiqual"
  repo-url: https://github.com/JGIBristol/digiqual
  repo-actions: [edit, issue]
  page-navigation: true

  navbar:
    background: primary
    foreground: light
    search: true
    right:
      - icon: github
        href: https://github.com/JGIBristol/digiqual
        aria-label: GitHub

# --- 1. YOUR MANUAL SIDEBAR ---
  sidebar:
    style: floating
    collapse-level: 1
    search: true
    contents:
      # A. Top Level Docs
      - text: "Home"
        href: index.qmd
      - text: "Installation"
        href: docs/install.qmd
      - text: "Quick Start"
        href: docs/qs_class.qmd
      - text: "All Functions"
        href: api_reference/index.qmd


format:
  html:
    theme: [cosmo, custom.scss]
    toc: true
    page-layout: article
    code-copy: true
    mainfont: "Inter, system-ui, -apple-system, sans-serif"
    fontcolor: "#212529"
    backgroundcolor: "#f9fafb"

# --- 2. QUARTODOC CONFIG ---
quartodoc:
  package: digiqual
  dir: api_reference
  parser: google
  title: "All Functions"

  # Global Options
  options:
    dynamic: true
    signature_name: short

  # --- 3. PAGE GENERATION ---
  # This builds the content for "api_reference/index.qmd"
  sections:
    # SECTION A: THE STANDARD USER
    - title: "Standard Workflow"
      desc: "The core class for managing reliability studies."
      contents:
        - name: core.SimulationStudy
          children: separate

    # SECTION B: THE POWER USER
    - title: "Functional API"
      desc: "Standalone tools for Sampling, Diagnostics, PoD, and Plotting."
      contents:
        # -- Sampling --
        - sampling.generate_lhs

        # -- Diagnostics --
        - diagnostics.validate_simulation
        - diagnostics.sample_sufficiency
        - diagnostics.ValidationError

        # -- Adaptive --
        - adaptive.run_adaptive_search
        - adaptive.generate_targeted_samples

        # -- PoD Analysis --
        - pod.fit_robust_mean_model
        - pod.fit_variance_model
        - pod.infer_best_distribution
        - pod.predict_local_std
        - pod.compute_pod_curve
        - pod.bootstrap_pod_ci

        # -- Plotting --
        - plotting.plot_signal_model
        - plotting.plot_pod_curve
