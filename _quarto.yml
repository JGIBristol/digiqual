project:
  type: website
  output-dir: _site
  render:
    - "*.qmd"
    - "docs/"
    - "api_reference/"
    - "!materials/"

website:
  title: "digiqual"
  repo-url: https://github.com/JGIBristol/digiqual
  repo-actions: [edit, issue]

  # --- TOP BANNER ---
  # Purely for Branding (Title) and External Links (GitHub)
  navbar:
    background: primary
    foreground: light
    search: true

    # Right: GitHub & Version
    right:
      - icon: github
        href: https://github.com/JGIBristol/digiqual
        aria-label: GitHub

  # --- SIDE NAVIGATION ---
  # Handles all internal links and Search
  sidebar:
    style: "floating"
    contents:
      # 1. Home
      - text: "Home"
        file: index.qmd

      # 2. Quick Start (Collapsible)
      - section: "Quick Start"
        contents:
          - text: "Functional Approach"
            file: docs/quick_start_function.qmd
          - text: "Class-Based Approach"
            file: docs/quick_start_oop.qmd

      # 3. API Reference (Top-level Link)
      - text: "API Reference"
        file: api_reference/index.qmd

format:
  html:
    theme: [cosmo, custom.scss]
    toc: true
    page-layout: article
    code-copy: true

    # --- AESTHETICS ---
    # Modern, clean typography and colors (overrides Cosmo defaults)
    mainfont: "Inter, system-ui, -apple-system, sans-serif"
    fontcolor: "#212529"          # Softer black for text
    backgroundcolor: "#f9fafb"    # Soft cool grey background (Not bright white)

# --- QUARTODOC CONFIG ---
quartodoc:
  package: digiqual
  dir: api_reference
  options:
    dynamic: true
  sections:
    - title: Core
      desc: "Workflow management and data structures."
      contents:
        - core.SimulationStudy

    - title: Sampling
      desc: "Experimental design and Latin Hypercube Sampling."
      contents:
        - sampling.generate_lhs

    - title: Diagnostics
      desc: "Statistical checks for sample sufficiency and validity."
      contents:
        - diagnostics.validate_simulation
        - diagnostics.sample_sufficiency
        - diagnostics.ValidationError

    - title: Adaptive
      desc: "Active learning algorithms for targeted sampling."
      contents:
        - adaptive.generate_targeted_samples

    - title: PoD (Probability of Detection)
      desc: "Statistical engine for reliability analysis."
      contents:
        - pod.fit_robust_mean_model
        - pod.fit_variance_model
        - pod.predict_local_std
        - pod.infer_best_distribution
        - pod.compute_pod_curve
        - pod.bootstrap_pod_ci

    - title: Plotting
      desc: "Visualization utilities for models and curves."
      contents:
        - plotting.plot_signal_model
        - plotting.plot_pod_curve
